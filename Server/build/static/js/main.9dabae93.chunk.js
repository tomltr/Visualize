(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{30:function(e,t,a){},34:function(e,t,a){e.exports=a(65)},39:function(e,t,a){},40:function(e,t,a){},63:function(e,t,a){},64:function(e,t,a){},65:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),i=a(31),l=a.n(i),o=(a(39),a(2)),u=a(3),s=a(5),c=a(4),d=a(1),m=a(6),p=a(9),h=a(12),b=(a(40),function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement("header",{className:"main-header"},n.a.createElement("nav",{className:"main-header__nav"},n.a.createElement("ul",{className:"main-header__ul"},n.a.createElement("li",{className:"main-header__li"},n.a.createElement(p.b,{to:"/"},"Home")),n.a.createElement("li",{className:"main-header__li"},n.a.createElement(p.b,{to:"/add-product"},"Add Product")),""===this.props.current_user||""===this.props.token?[n.a.createElement("li",{key:"login",className:"main-header__li"},n.a.createElement(p.b,{to:"/login"},"Login")),n.a.createElement("li",{key:"register",className:"main-header__li"},n.a.createElement(p.b,{to:"/register"},"Register"))]:n.a.createElement("li",{className:"main-header__li"},n.a.createElement(p.b,{to:"/logout"},"Logout")),n.a.createElement("li",{className:"main-header__li"},n.a.createElement(p.b,{to:"/cart"},"Cart")),n.a.createElement("li",{className:"main-header__li"},n.a.createElement(p.b,{to:"/order"},"Orders"))))))}}]),t}(r.Component)),E=function(e){return n.a.createElement("div",{className:"product-detail"},n.a.createElement("div",{className:"product-title"},n.a.createElement("h2",null,e.title)),n.a.createElement("div",{className:"product-image"},n.a.createElement(p.b,{to:"/product/".concat(e.id)},n.a.createElement("img",{src:"http://localhost:5000/imgs/".concat(e.image),width:"250px",height:"250px",alt:e.title}))),n.a.createElement("div",{className:"product-price"},n.a.createElement("p",null,"$",e.price)))},v=a(7),f=a.n(v),y=(a(30),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(c.a)(t).call(this,e)))._isMounted=!1,a.state={current_user:"",products:[]},a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,f.a.get("http://localhost:5000").then((function(t){e.setState({products:t.data.map((function(e){return e}))})})).catch((function(e){console.log("error: ".concat(e))}))}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){return n.a.createElement("div",{className:"product-list"},this.state.products.map((function(e){return n.a.createElement(E,{key:e.product_id,id:e.product_id,artist:e.artist_id,title:e.product_title,price:e.price,image:e.image_path})})),n.a.createElement("footer",null,"** All images are from ",n.a.createElement("em",null,"Pixabay")," **"))}}]),t}(n.a.Component)),g=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(c.a)(t).call(this,e)))._isMounted=!1,a.state={order_items:[],showDetails:!1},a.toggleShowDetails=a.toggleShowDetails.bind(Object(d.a)(a)),a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,f.a.get("http://localhost:5000/order/".concat(this.props.order_id)).then((function(t){e.setState({order_items:t.data})}))}},{key:"toggleShowDetails",value:function(){this.setState({showDetails:!this.state.showDetails})}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){return n.a.createElement("div",null,this.state.showDetails?n.a.createElement("div",null,n.a.createElement("div",{className:"order-list"},n.a.createElement("h3",null,"Order Id: ",this.props.order_id),this.state.order_items.map((function(e){return n.a.createElement("div",{key:e.order_item_id},n.a.createElement("h2",null,e.product_title),n.a.createElement("img",{src:"http://localhost:5000/imgs/".concat(e.image_path),width:"250px",height:"250px",alt:e.product_title}),n.a.createElement("h3",null,"Price: $",e.price),n.a.createElement("h4",null,"Quantity: ",e.quantity),n.a.createElement("h5",null,"Status: ",e.status))})),n.a.createElement("h3",null,"Total: $",this.props.total))):n.a.createElement("div",{className:"order-list"},n.a.createElement("h3",null,"Order Id: ",this.props.order_id),n.a.createElement("h3",null,"Total: $",this.props.total)),n.a.createElement("button",{onClick:this.toggleShowDetails},"Show Details"))}}]),t}(n.a.Component),_=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(c.a)(t).call(this,e)))._isMounted=!1,a.state={order_items:[]},a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,""!==this.props.current_user&&f.a.get("http://localhost:5000/orders",{params:{current_user:this.props.current_user}}).then((function(t){e.setState({order_items:t.data})})).catch((function(e){if(e)throw e}))}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=this;return n.a.createElement("div",null,""!==this.props.current_user?n.a.createElement("div",{style:{textAlign:"center"}},n.a.createElement("h3",null,"Orders History"),this.state.order_items.map((function(t,a){return n.a.createElement(g,{key:t.order_id,current_user:e.props.current_user,order_id:t.order_id,index:a,total:t.total})}))):n.a.createElement(h.a,{to:"/login"}))}}]),t}(n.a.Component),O=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(c.a)(t).call(this,e))).updateCart=a.updateCart.bind(Object(d.a)(a)),a.deleteFromCart=a.deleteFromCart.bind(Object(d.a)(a)),a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"updateCart",value:function(e){e.preventDefault();var t=parseInt(e.target.quantity.value),a=document.getElementById("quantityLabel"),r=document.getElementById("quantityError");if(t<1){if(!r){var n=document.createElement("p");n.innerHTML="** Quantity must be greater than 0 **",n.setAttribute("style","color: red"),n.setAttribute("id","quantityError"),a.parentElement.insertBefore(n,a),a.nextSibling.setAttribute("style","border: 1px solid red; box-shadow: 0 0 10px rgb(255, 0, 0)")}e.target.value=""}else r&&a.parentElement.removeChild(r),a.nextSibling.setAttribute("style","border:default"),this.props.updateQuantity(this.props.index,this.props.id,t)}},{key:"deleteFromCart",value:function(e){e.preventDefault(),this.props.deleteItem(this.props.id)}},{key:"render",value:function(){return n.a.createElement("div",{className:"product-list"},n.a.createElement("h3",null,this.props.title),n.a.createElement("h3",null,"$",this.props.price),n.a.createElement("img",{src:"http://localhost:5000/imgs/".concat(this.props.image),width:"250px",height:"250px",alt:this.props.title}),""!==this.props.updateQuantity?n.a.createElement("div",null,n.a.createElement("form",{onSubmit:this.updateCart},n.a.createElement("label",{id:"quantityLabel"},"Quantity: "),n.a.createElement("input",{type:"number",name:"quantity",placeholder:this.props.quantity}),n.a.createElement("p",null,n.a.createElement("button",{className:"btn btn-success",type:"submit"},"Update"))),n.a.createElement("form",{onSubmit:this.deleteFromCart},n.a.createElement("p",null,n.a.createElement("button",{className:"btn btn-danger",type:"submit"},"Delete")))):n.a.createElement("h4",null,"Quantity: ",this.props.quantity))}}]),t}(n.a.Component),x=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(c.a)(t).call(this,e)))._isMounted=!1,a.state={cart_items:[],total:0,redirectToOrders:!1},a.onSubmitOrderForm=a.onSubmitOrderForm.bind(Object(d.a)(a)),a.numbersOnly=a.numbersOnly.bind(Object(d.a)(a)),a.maxCreditNumberSize=a.maxCreditNumberSize.bind(Object(d.a)(a)),a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,""!==this.props.current_user&&f.a.get("http://localhost:5000/cart",{params:{current_user:this.props.current_user,cart_id:this.props.cart_id}}).then((function(t){e.setState({cart_items:t.data.cart_items,total:parseFloat(t.data.total).toFixed(2)})})).catch((function(e){if(e)throw e}))}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"numbersOnly",value:function(e){for(var t=e.length,a=0;a<t;++a)if("-"!==e.charAt(a)&&(e.charCodeAt(a)<48||e.charCodeAt(a)>57))return!1;return!0}},{key:"maxCreditNumberSize",value:function(e){return e.length>=10&&e.length<=19}},{key:"validateCreditCard",value:function(){var e=document.getElementById("creditCardNumber"),t=this.numbersOnly(e.value),a=this.maxCreditNumberSize(e.value),r=document.getElementById("creditCardError"),n=document.getElementById("totalHeader");if(t&&a)return r&&n.parentElement.removeChild(r),e.setAttribute("style","border:default"),e.value;if(!r){var i=document.createElement("p");i.innerHTML="** Please enter a valid credit card number **",i.setAttribute("style","color: red"),i.setAttribute("id","creditCardError"),n.parentElement.insertBefore(i,n.nextSibling),e.setAttribute("style","border: 1px solid red; box-shadow: 0 0 10px rgb(255, 0, 0)")}e.value=""}},{key:"onSubmitOrderForm",value:function(e){var t=this;e.preventDefault();var a=this.props.current_user,r=document.getElementById("paymentMethod"),n=this.validateCreditCard(),i=this.state.total,l=this.props.cart_id;n&&f.a.post("http://localhost:5000/order_form",{user:a,payment_method:r.value,credit_card_number:n,total:i,cart_id:l}).then((function(e){t.setState({redirectToOrders:!0}),t.props.clearCart(),alert("".concat(e.data))})).catch((function(e){if(e)throw e}))}},{key:"render",value:function(){return n.a.createElement("div",null,this.state.redirectToOrders?n.a.createElement(h.a,{to:"/order"}):"0.00"===this.state.total?n.a.createElement("div",{style:{textAlign:"center"}},n.a.createElement("h3",null,"Empty Cart"),n.a.createElement("h5",null,"Total: $",parseFloat(this.state.total).toFixed(2))):n.a.createElement("div",{className:"product-list"},this.state.cart_items.map((function(e,t){return n.a.createElement(O,{key:e.cart_item_id,index:t,title:e.product_title,price:e.price,image:e.image_path,quantity:e.quantity,updateQuantity:""})})),n.a.createElement("h3",{id:"totalHeader"},"Total: $",parseFloat(this.state.total).toFixed(2)),n.a.createElement("form",{onSubmit:this.onSubmitOrderForm},n.a.createElement("select",{name:"paymentMethod",id:"paymentMethod"},n.a.createElement("option",null,"Visa"),n.a.createElement("option",null,"Amex"),n.a.createElement("option",null,"MasterCard")),n.a.createElement("label",null,"Credit Card Number:"),n.a.createElement("input",{type:"text",name:"creditCardNumber",id:"creditCardNumber"}),n.a.createElement("p",null,n.a.createElement("button",{className:"btn btn-info",type:"submit"},"Submit Order")))))}}]),t}(n.a.Component),C=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(c.a)(t).call(this,e)))._isMounted=!1,a.state={product_id:e.match.params.id,artist:"",title:"",image:"",price:"",date_created:""},a.addToCart=a.addToCart.bind(Object(d.a)(a)),a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,f.a.get("http://localhost:5000/product/"+this.state.product_id).then((function(t){var a=t.data[0];e.setState({artist:a.username,title:a.product_title,image:a.image_path,price:a.price,date_created:a.date_created})})).catch((function(e){console.log("error: ".concat(e))}))}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"addToCart",value:function(e){this.props.addToCart(e,this.state.product_id,this.state.title)}},{key:"render",value:function(){return n.a.createElement("div",{className:"product-list"},n.a.createElement("h2",null,this.state.title),n.a.createElement("p",null,n.a.createElement("em",null,"by ",this.state.artist)),n.a.createElement("img",{src:"http://localhost:5000/imgs/".concat(this.state.image),width:"250px",height:"250px",alt:this.state.title}),n.a.createElement("p",null,"$",this.state.price),n.a.createElement("p",null,"Created: ",this.state.date_created.split("T")[0]),""===this.props.current_user?n.a.createElement("form",{action:"/login"},n.a.createElement("button",{type:"submit"},"Add to Cart")):n.a.createElement("form",{onSubmit:this.addToCart},n.a.createElement("button",{className:"btn btn-info",type:"submit"},"Add To Cart")))}}]),t}(n.a.Component),A=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(c.a)(t).call(this,e))).state={productImage:"",redirectToHome:!1},a.onFileChange=a.onFileChange.bind(Object(d.a)(a)),a.onFormSubmit=a.onFormSubmit.bind(Object(d.a)(a)),a.validateTitle=a.validateTitle.bind(Object(d.a)(a)),a.validateImage=a.validateImage.bind(Object(d.a)(a)),a.validatePrice=a.validatePrice.bind(Object(d.a)(a)),a.uploadedError=a.uploadedError.bind(Object(d.a)(a)),a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"clearError",value:function(e){e.target.setAttribute("style","border:default")}},{key:"onFileChange",value:function(e){this.setState({productImage:e.target.files[0]})}},{key:"validateTitle",value:function(){var e=document.getElementById("titleLabel"),t=document.getElementById("title_input"),a=document.getElementById("titleError");if(!(t.value.length<3||t.value.length>100))return a&&e.parentElement.removeChild(a),t.setAttribute("style","border:default"),t.value;if(!a){var r=document.createElement("p");r.innerHTML="** Minimum of 3 and maximum of 100 alphanumeric characters are allowed **",r.setAttribute("style","color: red"),r.setAttribute("id","titleError"),e.parentElement.insertBefore(r,e),t.setAttribute("style","border: 1px solid red; box-shadow: 0 0 10px rgb(255, 0, 0)")}}},{key:"validatePrice",value:function(){var e=document.getElementById("priceLabel"),t=document.getElementById("price_input"),a=document.getElementById("priceError");if(!(t.value<1))return a&&e.parentElement.removeChild(a),t.setAttribute("style","border:default"),t.value;if(!a){var r=document.createElement("p");r.innerHTML="** Price must be at least $1 **",r.setAttribute("style","color: red"),r.setAttribute("id","priceError"),e.parentElement.insertBefore(r,e),t.setAttribute("style","border: 1px solid red; box-shadow: 0 0 10px rgb(255, 0, 0)")}}},{key:"validateImage",value:function(){var e=document.getElementById("imageLabel"),t=document.getElementById("image_input"),a=t.files.length,r=document.getElementById("imageError");if(0!==a)return r&&e.parentElement.removeChild(r),t.setAttribute("style","border:default"),this.state.productImage;if(!r){var n=document.createElement("p");n.innerHTML="** Please upload an image **",n.setAttribute("style","color: red"),n.setAttribute("id","imageError"),e.parentElement.insertBefore(n,e),t.setAttribute("style","border: 1px solid red; box-shadow: 0 0 10px rgb(255, 0, 0)")}}},{key:"uploadedError",value:function(e){var t=document.getElementById("imageLabel"),a=document.getElementById("image_input"),r=document.getElementById("imageError");if(r)return r&&t.parentElement.removeChild(r),a.setAttribute("style","border:default"),this.state.productImage;var n=document.createElement("p");n.innerHTML="** ".concat(e," ** "),n.setAttribute("style","color: red"),n.setAttribute("id","imageError"),t.parentElement.insertBefore(n,t),a.setAttribute("style","border: 1px solid red; box-shadow: 0 0 10px rgb(255, 0, 0)")}},{key:"onFormSubmit",value:function(e){var t=this;e.preventDefault();var a=this.validateTitle(),r=this.validatePrice(),n=this.validateImage();if(a&&r&&n){var i=new FormData;i.append("productImage",n),i.append("artist_id",this.props.current_user),i.append("title",a),i.append("price",r),f.a.post("http://localhost:5000/add-product",i).then((function(e){e.data.hasOwnProperty("error")?t.uploadedError(e.data.error):t.setState({redirectToHome:!0})})).catch((function(e){if(e)throw e}))}}},{key:"render",value:function(){return n.a.createElement("div",null,this.state.redirectToHome?n.a.createElement(h.a,{to:"/"}):""!==this.props.current_user?n.a.createElement("div",{className:"add-product-form"},n.a.createElement("form",{method:"POST",encType:"multipart/form-data",onSubmit:this.onFormSubmit},n.a.createElement("label",{id:"titleLabel"},"Title:"),n.a.createElement("input",{type:"text",name:"title",id:"title_input",onFocus:this.clearError}),n.a.createElement("div",null,n.a.createElement("label",{id:"priceLabel"},"Price:"),n.a.createElement("input",{type:"number",name:"price",id:"price_input",onFocus:this.clearError})),n.a.createElement("div",null,n.a.createElement("label",{id:"imageLabel"},"Image:"),n.a.createElement("input",{type:"file",name:"image",id:"image_input",onFocus:this.clearError,onChange:this.onFileChange})),n.a.createElement("button",{className:"btn btn-success",type:"submit"},"Submit"))):n.a.createElement(h.a,{to:"/login"}))}}]),t}(n.a.Component),k=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(c.a)(t).call(this,e))).submitLogin=a.submitLogin.bind(Object(d.a)(a)),a.userNotExists=a.userNotExists.bind(Object(d.a)(a)),a.invalidLogin=a.invalidLogin.bind(Object(d.a)(a)),a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"submitLogin",value:function(e){var t=this;e.preventDefault();var a=document.getElementById("username_input").value,r=document.getElementById("password_input").value;f.a.post("http://localhost:5000/login",{username:a,password:r}).then((function(e){if(e.data.hasOwnProperty("user_error"))console.log("user not exists"),t.userNotExists();else if(e.data.hasOwnProperty("error"))console.log("invalid login"),t.invalidLogin();else{var a=e.data.token,r=e.data.user_id;t.props.updateAuth(a,r)}})).catch((function(e){if(e)throw e}))}},{key:"userNotExists",value:function(){var e=document.getElementById("usernameLabel"),t=document.getElementById("usernameError");if(e.nextSibling.value="",t&&(e.parentElement.removeChild(t),t=null),!t){var a=document.createElement("p");a.innerHTML="** Username does not exists **",a.setAttribute("style","color: red"),a.setAttribute("id","usernameError"),e.parentElement.insertBefore(a,e)}}},{key:"invalidLogin",value:function(){var e=document.getElementById("usernameLabel"),t=document.getElementById("usernameError");if(document.getElementById("password_input").value="",t&&(e.parentElement.removeChild(t),t=null),!t){var a=document.createElement("p");a.innerHTML="** Invalid username/password **",a.setAttribute("style","color: red"),a.setAttribute("id","usernameError"),e.parentElement.insertBefore(a,e)}}},{key:"render",value:function(){return n.a.createElement("div",{className:"product-list"},""!==this.props.current_user&&""!==this.props.token?n.a.createElement(h.a,{to:"/"}):n.a.createElement("form",{method:"POST",onSubmit:this.submitLogin},n.a.createElement("label",{id:"usernameLabel"},"UserName:"),n.a.createElement("input",{type:"text",name:"username",id:"username_input",required:!0}),n.a.createElement("p",null,n.a.createElement("label",null,"Password:"),n.a.createElement("input",{type:"password",name:"password",id:"password_input",required:!0})),n.a.createElement("button",{className:"btn btn-success",type:"submit"},"Log In")))}}]),t}(n.a.Component),j=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(c.a)(t).call(this,e))).register=a.register.bind(Object(d.a)(a)),a.validateAddress=a.validateAddress.bind(Object(d.a)(a)),a.validateUsername=a.validateUsername.bind(Object(d.a)(a)),a.validateEmail=a.validateEmail.bind(Object(d.a)(a)),a.validatePassword=a.validatePassword.bind(Object(d.a)(a)),a.validateConfirmedPassword=a.validateConfirmedPassword.bind(Object(d.a)(a)),a.existingUsername=a.existingUsername.bind(Object(d.a)(a)),a.existingEmail=a.existingEmail.bind(Object(d.a)(a)),a.validMin=a.validMin.bind(Object(d.a)(a)),a.validChars=a.validChars.bind(Object(d.a)(a)),a.validMax=a.validMax.bind(Object(d.a)(a)),a.validateName=a.validateName.bind(Object(d.a)(a)),a.clearError=a.clearError.bind(Object(d.a)(a)),a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"validMin",value:function(e){return e.length>=3}},{key:"validChars",value:function(e){for(var t=0;t<e.length;++t)if(32!==e.charCodeAt(t)&&(e.charCodeAt(t)<65||e.charCodeAt(t)>90&&e.charCodeAt(t)<97||e.charCodeAt(t)>122))return!1;return!0}},{key:"validMax",value:function(e,t){return t.length<=e}},{key:"clearError",value:function(e){var t=e.target.nextSibling;null!==t&&"P"===t.nodeName&&(e.target.parentElement.removeChild(t),e.target.setAttribute("style","border:default"))}},{key:"validateName",value:function(){var e=document.getElementById("full_name_input"),t=this.validMin(e.value),a=this.validChars(e.value),r=this.validMax(50,e.value),n=document.getElementById("nameError");if(t&&a&&r)return n&&e.parentElement.removeChild(n),e.setAttribute("style","border:default"),e.value;if(!n){var i=document.createElement("p");i.innerHTML="** Minimum of 3 and maximum of 50 alphabet characters are allowed **",i.setAttribute("style","color: red"),i.setAttribute("id","nameError"),e.parentElement.insertBefore(i,e.nextSibling),e.setAttribute("style","border: 1px solid red; box-shadow: 0 0 10px rgb(255, 0, 0)")}e.value=""}},{key:"validateAddress",value:function(){var e=document.getElementById("address_input"),t=this.validMin(e.value),a=this.validMax(100,e.value),r=document.getElementById("addressError");if(t&&a)return r&&e.parentElement.removeChild(r),e.setAttribute("style","border:default"),e.value;if(!r){var n=document.createElement("p");n.innerHTML="** Minimum of 3 and maximum of 100 characters are allowed **",n.setAttribute("style","color: red"),n.setAttribute("id","addressError"),e.parentElement.insertBefore(n,e.nextSibling),e.setAttribute("style","border: 1px solid red; box-shadow: 0 0 10px rgb(255, 0, 0)")}e.value=""}},{key:"existingUsername",value:function(){var e=document.getElementById("username_input"),t=document.getElementById("usernameError");if(e.value="",t)return t&&e.parentElement.removeChild(t),e.setAttribute("style","border:default"),e.value;var a=document.createElement("p");a.innerHTML="** Username already exists **",a.setAttribute("style","color: red"),a.setAttribute("id","usernameError"),e.parentElement.insertBefore(a,e.nextSibling),e.setAttribute("style","border: 1px solid red; box-shadow: 0 0 10px rgb(255, 0, 0)")}},{key:"existingEmail",value:function(){var e=document.getElementById("email_input"),t=document.getElementById("emailError");if(e.value="",t)return t&&e.parentElement.removeChild(t),e.setAttribute("style","border:default"),e.value;var a=document.createElement("p");a.innerHTML="** Email already exists **",a.setAttribute("style","color: red"),a.setAttribute("id","emailError"),e.parentElement.insertBefore(a,e.nextSibling),e.setAttribute("style","border: 1px solid red; box-shadow: 0 0 10px rgb(255, 0, 0)")}},{key:"numbersOnly",value:function(e){for(var t=e.length,a=0;a<t;++a)if("-"!==e.charAt(a)&&(e.charCodeAt(a)<48||e.charCodeAt(a)>57))return!1;return!0}},{key:"validNumber",value:function(e){return 12===e.length&&"-"===e.charAt(3)&&"-"===e.charAt(7)}},{key:"validatePhoneNumber",value:function(){var e=document.getElementById("phone_number_input"),t=this.numbersOnly(e.value),a=this.validNumber(e.value),r=document.getElementById("phoneError");if(t&&a)return r&&e.parentElement.removeChild(r),e.setAttribute("style","border:default"),e.value;if(!r){var n=document.createElement("p");n.innerHTML="** Please enter a valid phone number ###-###-#### **",n.setAttribute("style","color: red"),n.setAttribute("id","phoneError"),e.parentElement.insertBefore(n,e.nextSibling),e.setAttribute("style","border: 1px solid red; box-shadow: 0 0 10px rgb(255, 0, 0)")}e.value=""}},{key:"alphaNumeric",value:function(e){for(var t=e.length,a=0;a<t;++a)if(e.charCodeAt(a)<48||e.charCodeAt(a)>57&&e.charCodeAt(a)<65||e.charCodeAt(a)>90&&e.charCodeAt(a)<97||e.charCodeAt(a)>122)return!1;return!0}},{key:"validateUsername",value:function(){var e=document.getElementById("username_input"),t=this.alphaNumeric(e.value),a=this.validMin(e.value),r=this.validMax(30,e.value),n=document.getElementById("usernameError");if(t&&a&&r)return n&&e.parentElement.removeChild(n),e.setAttribute("style","border:default"),e.value;if(!n){var i=document.createElement("p");i.innerHTML="** Minimum of 3 and maximum of 30 alphanumeric characters are allowed **",i.setAttribute("style","color: red"),i.setAttribute("id","usernameError"),e.parentElement.insertBefore(i,e.nextSibling),e.setAttribute("style","border: 1px solid red; box-shadow: 0 0 10px rgb(255, 0, 0)")}e.value=""}},{key:"validateEmail",value:function(){var e=document.getElementById("email_input"),t=e.value.length>=6,a=this.validMax(50,e.value),r=document.getElementById("emailError");if(t&&a)return r&&e.parentElement.removeChild(r),e.setAttribute("style","border:default"),e.value;if(!r){var n=document.createElement("p");n.innerHTML="** Minimum of 10 and maximum up to 50 alphanumeric characters are allowed **",n.setAttribute("style","color: red"),n.setAttribute("id","emailError"),e.parentElement.insertBefore(n,e.nextSibling),e.setAttribute("style","border: 1px solid red; box-shadow: 0 0 10px rgb(255, 0, 0)")}e.value=""}},{key:"validatePassword",value:function(){var e=document.getElementById("password_input"),t=e.value.length>=10,a=e.value.length<=60,r=document.getElementById("passwordError");if(t&&a){var n=document.getElementById("passwordError");return n&&e.parentElement.removeChild(n),e.setAttribute("style","border:default"),e.value}if(!r){var i=document.createElement("p");i.innerHTML="** Minimum of 10 and maximum of 60 characters **",i.setAttribute("style","color: red"),i.setAttribute("id","addressError"),e.parentElement.insertBefore(i,e.nextSibling),e.setAttribute("style","border: 1px solid red; box-shadow: 0 0 10px rgb(255, 0, 0)")}e.value=""}},{key:"validateConfirmedPassword",value:function(e){var t=document.getElementById("password_input"),a=document.getElementById("confirmed_password_input"),r=a.value.localeCompare(t.value),n=document.getElementById("passwordError");if(!r){var i=document.getElementById("confirmedPasswordError");return i&&a.parentElement.removeChild(i),a.setAttribute("style","border:default"),a.value}if(!n){var l=document.createElement("p");l.innerHTML="** Passwords must be matched **",l.setAttribute("style","color: red"),l.setAttribute("id","addressError"),a.parentElement.insertBefore(l,a.nextSibling),a.setAttribute("style","border: 1px solid red; box-shadow: 0 0 10px rgb(255, 0, 0)")}a.value=""}},{key:"register",value:function(e){var t=this;e.preventDefault();var a=this.validateName(),r=this.validateAddress(),n=this.validatePhoneNumber(),i=this.validateUsername(),l=this.validateEmail(),o=this.validatePassword(),u=this.validateConfirmedPassword();if(a&&r&&n&&i&&l&&o&&u){var s={fullName:a,address:r,phoneNumber:n,username:i,email:l,password:o};f.a.post("http://localhost:5000/register",s).then((function(e){e.data.hasOwnProperty("username")?t.existingUsername():e.data.hasOwnProperty("email")&&t.existingEmail(),t.props.updateAuth("",e.data.user_id)})).catch((function(e){if(e)throw e}))}}},{key:"render",value:function(){return n.a.createElement("div",null,this.props.current_user?n.a.createElement(h.a,{to:"/login"}):n.a.createElement("div",{className:"text-center"},n.a.createElement("form",{method:"POST",onSubmit:this.register},n.a.createElement("label",null,"Full Name:"),n.a.createElement("input",{type:"text",name:"full_name",id:"full_name_input",onFocus:this.clearError,required:!0}),n.a.createElement("div",null,n.a.createElement("label",null,"Address:"),n.a.createElement("input",{type:"text",name:"address",id:"address_input",onFocus:this.clearError,required:!0})),n.a.createElement("div",null,n.a.createElement("label",null,"Phone Number:"),n.a.createElement("input",{type:"text",name:"phone_number",id:"phone_number_input",onFocus:this.clearError,required:!0})),n.a.createElement("div",null,n.a.createElement("label",null,"Username:"),n.a.createElement("input",{type:"text",name:"username",id:"username_input",onFocus:this.clearError,required:!0}),n.a.createElement("label",null,"Email:"),n.a.createElement("input",{type:"email",name:"email",id:"email_input",onFocus:this.clearError,required:!0})),n.a.createElement("div",null,n.a.createElement("label",null,"Password:"),n.a.createElement("input",{type:"password",name:"password",id:"password_input",onFocus:this.clearError,required:!0}),n.a.createElement("label",null,"Confirmed Password:"),n.a.createElement("input",{type:"password",name:"confirmed_password",id:"confirmed_password_input",onFocus:this.clearError,required:!0})),n.a.createElement("button",{className:"btn btn-primary",type:"submit"},"Register"))))}}]),t}(n.a.Component),w=function(e){function t(){var e,a;Object(o.a)(this,t);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(n))))._isMounted=!1,a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this._isMounted=!0,this.props.clearAuth(),this.props.clearCart()}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){return n.a.createElement(h.a,{to:"/"})}}]),t}(n.a.Component),I=(a(63),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(c.a)(t).call(this,e)))._isMounted=!1,a.state={cart_items:[],total:0},a.updateQuantity=a.updateQuantity.bind(Object(d.a)(a)),a.updateTotal=a.updateTotal.bind(Object(d.a)(a)),a.deleteItem=a.deleteItem.bind(Object(d.a)(a)),a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,""!==this.props.current_user&&f.a.get("http://localhost:5000/cart",{params:{current_user:this.props.current_user,cart_id:this.props.cart_id}}).then((function(t){e.setState({cart_items:t.data.cart_items,total:parseFloat(t.data.total).toFixed(2)}),e.props.updateCartId(t.data.cart_id)})).catch((function(e){if(e)throw e}))}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"updateTotal",value:function(){for(var e=0,t=0;t<this.state.cart_items.length;++t)e+=this.state.cart_items[t].price*this.state.cart_items[t].quantity;this.setState({total:parseFloat(e).toFixed(2)})}},{key:"updateQuantity",value:function(e,t,a){var r=this,n=this.state.cart_items[e].product_id;f.a.post("http://localhost:5000/cart",{product_id:n,cart_item_id:t,cart_item_quantity:a,cart_id:this.props.cart_id}).then((function(t){var n=r.state.cart_items[e];n.quantity=a;var i=r.state.cart_items;i.splice(e,1,n),r.setState({cart_items:i}),r.updateTotal()})).catch((function(e){if(e)throw e}))}},{key:"deleteItem",value:function(e){var t=this;f.a.post("http://localhost:5000/delete-cart-item/".concat(e)).then((function(a){t.setState({cart_items:t.state.cart_items.filter((function(t){return t.cart_item_id!==e}))}),t.updateTotal(),alert("".concat(a.data))}))}},{key:"render",value:function(){var e=this;return n.a.createElement("div",null,""!==this.props.current_user?"0.00"===this.state.total?n.a.createElement("div",{style:{textAlign:"center"}},n.a.createElement("h3",null,"Empty Cart"),n.a.createElement("h5",null,"Total: $",parseFloat(this.state.total).toFixed(2))):n.a.createElement("div",{className:"product-list"},this.state.cart_items.map((function(t,a){return n.a.createElement(O,{key:t.cart_item_id,id:t.cart_item_id,index:a,title:t.product_title,price:t.price,image:t.image_path,quantity:t.quantity,updateQuantity:e.updateQuantity,deleteItem:e.deleteItem})})),n.a.createElement("h3",null,"Total: $",parseFloat(this.state.total).toFixed(2)),n.a.createElement(p.b,{to:"/order-form"},n.a.createElement("button",{className:"btn btn-primary"},"Checkout"))):n.a.createElement(h.a,{to:"/login"}))}}]),t}(n.a.Component)),M=(a(64),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(c.a)(t).call(this,e))).state={token:"",current_user:"",cart_id:"",order_id:""},a.updateAuth=a.updateAuth.bind(Object(d.a)(a)),a.clearAuth=a.clearAuth.bind(Object(d.a)(a)),a.clearCart=a.clearCart.bind(Object(d.a)(a)),a.addToCart=a.addToCart.bind(Object(d.a)(a)),a.updateCartId=a.updateCartId.bind(Object(d.a)(a)),a.updateOrderId=a.updateOrderId.bind(Object(d.a)(a)),a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"clearAuth",value:function(){this.setState({token:"",current_user:""})}},{key:"clearCart",value:function(){this.setState({cart_id:""})}},{key:"updateAuth",value:function(e,t){this.setState({token:e,current_user:t})}},{key:"updateCartId",value:function(e){this.setState({cart_id:e})}},{key:"updateOrderId",value:function(e){this.setState({order_id:e})}},{key:"addToCart",value:function(e,t,a){var r=this;e.preventDefault(),alert("".concat(a," added to cart")),f.a.post("http://localhost:5000/add-to-cart",{token:this.state.token,cart_id:this.state.cart_id,current_user:this.state.current_user,product_id:t}).then((function(e){r.setState({cart_id:e.data})})).catch((function(e){if(e)throw e}))}},{key:"render",value:function(){var e=this;return n.a.createElement(p.a,null,n.a.createElement(b,{token:this.state.token,current_user:this.state.current_user}),n.a.createElement(h.b,{path:"/",exact:!0,component:y}),n.a.createElement(h.b,{path:"/login",render:function(){return n.a.createElement(k,{token:e.state.token,current_user:e.state.current_user,updateAuth:e.updateAuth})}}),n.a.createElement(h.b,{path:"/logout",render:function(){return n.a.createElement(w,{token:e.state.token,current_user:e.state.current_user,clearAuth:e.clearAuth,clearCart:e.clearCart})}}),n.a.createElement(h.b,{path:"/register",render:function(){return n.a.createElement(j,{current_user:e.state.current_user,updateAuth:e.updateAuth})}}),n.a.createElement(h.b,{path:"/add-product",render:function(){return n.a.createElement(A,{current_user:e.state.current_user})}}),n.a.createElement(h.b,{path:"/cart",render:function(){return n.a.createElement(I,{token:e.state.token,current_user:e.state.current_user,cart_id:e.state.cart_id,updateCartId:e.updateCartId})}}),n.a.createElement(h.b,{path:"/add-to-cart",render:function(){return n.a.createElement(I,{token:e.state.token,current_user:e.state.current_user,cart_id:e.state.cart_id,updateCartId:e.updateCartId})}}),n.a.createElement(h.b,{path:"/order-form",render:function(){return n.a.createElement(x,{token:e.state.token,current_user:e.state.current_user,cart_id:e.state.cart_id,clearCart:e.clearCart})}}),n.a.createElement(h.b,{path:"/product/:id",render:function(t){return n.a.createElement(C,Object.assign({token:e.state.token,current_user:e.state.current_user,addToCart:e.addToCart},t))}}),n.a.createElement(h.b,{path:"/order",render:function(t){return n.a.createElement(_,Object.assign({current_user:e.state.current_user},t))}}))}}]),t}(n.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(n.a.createElement(M,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[34,1,2]]]);
//# sourceMappingURL=main.9dabae93.chunk.js.map